<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Permanencia</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3182ce"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="contenedor-test" class="contenedor-test">
        <!-- Menú de Inicio (se oculta al empezar el test) -->
        <h1 class="sr-only">Test de Permanencia</h1> <!-- Mejora semántica para accesibilidad -->
        <div id="inicio-menu">
            <h1>Test de Permanencia</h1>
            <p>Elige un modo para comenzar</p>
            <div class="footer-botones">
                <button id="iniciar-nuevo-test-btn" class="menu-btn" data-action="nuevo-test">Nuevo Test</button>
                <button id="iniciar-test-imprescindible-btn" class="menu-btn" data-action="test-imprescindible">Test Imprescindible</button>
                <button id="iniciar-repaso-fallos-btn" class="menu-btn" data-action="repasar-fallos">Repasar Fallos <span id="contador-fallos"></span></button>
            </div>
        </div>

        <!-- Contenido del Test (oculto al inicio) -->
        <div id="test-content" class="oculto">
            <div class="progreso-header">
            <div class="info-header">
                <div id="progreso-texto"></div>
                <div class="header-botones">
                    <button id="finalizar-ahora-btn" class="oculto">Finalizar</button>
                    <button id="seguir-mas-tarde-btn" class="oculto">Seguir más tarde</button>
                </div>
                <div id="record-texto"></div>
            </div>
            <div class="barra-progreso-contenedor">
                <div id="barra-progreso"></div>
            </div>
            </div>
            <div id="pregunta-wrapper"> <!-- Contenedor para la animación -->
                <h2 id="pregunta-actual"></h2>
                <div id="opciones-respuesta" class="opciones"></div>
            </div>
            <div id="feedback" aria-live="polite"></div>
            <div id="revision-fallos" class="oculto"></div>
            <div class="footer-botones">
                <button id="reiniciar-test" class="oculto">Menú Principal</button>
                <button id="repasar-fallos-btn" class="oculto">Repasar Fallos del Test</button>
                <button id="siguiente-pregunta" class="oculto">Siguiente Pregunta</button>
            </div>
        </div>
    </div>

    <!-- Importante: Cargar los scripts al final y en este orden -->
    <!-- Botón de tema fuera del flujo principal para posicionamiento fijo -->
    <button id="theme-toggle-btn" aria-label="Cambiar tema"></button>

    <script src="app.js" defer></script>
</body>
</html>
